(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{418:function(e,t,r){},419:function(e,t,r){},618:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(18),o=r.n(c),i=(r(418),r(419),r(645)),s=r(652),l=r(254),u=r(20),d=r(255),b=r(647),p=r(347),j=r(70),f=r(348),h=r(13),m=r(199),O=r(392),g=r(346),x=r(672),v=r(662),y=r(33),P=r(644),C=r(2),k=Object(d.a)({title:{color:"#99999999"}}),S=function(e){var t=k();return Object(C.jsxs)(P.a,{maxWidth:"xl",children:[Object(C.jsx)(j.a,{className:t.title,variant:"h5",children:e.title}),Object(C.jsx)(l.a,{paddingTop:2,children:e.children})]})},w=r(671),F=r(12),T=r.n(F),R=r(25),I=r(92),A=r(90),D=r(39),N=r(101),E=r.n(N),L=E.a.create({baseURL:"http://localhost:8000/api"}),B=[L];console.log("httpVideo");var M=r(27),q=r(28),V=r(388),U=function(){function e(t,r){Object(M.a)(this,e),this.http=t,this.resource=r,this.cancelList=null}return Object(q.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list cancelled"),this.cancelList=E.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.put("".concat(this.resource,"/").concat(e),a,o)}},{key:"partialUpdate",value:function(e,t,r){var a=t;this.containsFile(t)&&(a=this.getFormData(t));var n=r||{},c=n.http,o=n.config;return r&&c&&c.usePost?this.http.post("".concat(this.resource,"/").concat(e),a,o):this.http.patch("".concat(this.resource,"/").concat(e),a,o)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return E.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(V.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}(),z=new U(L,"categories"),_=r(114),G=r(387),W=r(123),H=r(120),Y={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"},success:{main:W.a[500],contrastText:"#fff"},error:{main:H.a[500]}},Q=Object(_.a)({palette:Y,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableToolbar:{root:{minHeight:"58px",backgroundColor:Y.background.default},icon:{color:Y.primary.main,"&:hover, &:active, &.focus":{color:Y.secondary.dark}},iconActive:{color:Y.secondary.dark,"&:hover, &:active, &.focus":{color:Y.secondary.dark}}},MUIDataTableHeadCell:{fixedHeader:{paddingTop:8,paddingBottom:8,backgroundColor:Y.primary.main,color:"#ffffff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#fff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#fff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:Y.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:Y.secondary.main,"&:hover, &:active, &.focus":{color:Y.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:Y.primary.main},iconButton:{color:Y.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:Y.background.default}}},MUIDataTablePagination:{root:{color:Y.primary.main}},MUIDataTableFilterList:{root:{marginBottom:"16px"}}}}),X=Object(_.a)({palette:{primary:Q.palette.success,secondary:Q.palette.error}}),Z=function(){return Object(C.jsx)(i.a,{theme:X,children:Object(C.jsx)(G.a,{label:"Sim",color:"primary"})})},K=function(){return Object(C.jsx)(i.a,{theme:X,children:Object(C.jsx)(G.a,{label:"Nao",color:"secondary"})})},J=r(7),$=r(389),ee=r.n($),te=r(52),re=r(21),ae=r(664),ne=r(126),ce=r(50),oe=r(51),ie=r(200),se=r(352),le=r(262),ue=r.n(le),de=r(263),be=r.n(de),pe=r(5),je=function(e){Object(ce.a)(r,e);var t=Object(oe.a)(r);function r(e){var a;Object(M.a)(this,r),(a=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;console.log(t),a.setState({text:t},(function(){return a.debouncedOnSearch(t)}))},a.debouncedOnSearch=function(e){a.props.onSearch(e)},a.onKeyDown=function(e){27===e.keyCode&&a.props.onHide()};var n=a.props.searchText,c=n;return n&&void 0!==n.value&&(c=n.value),a.state={text:c},a.debouncedOnSearch=Object(te.debounce)(a.debouncedOnSearch.bind(Object(ne.a)(a)),a.props.debounceTime),a}return Object(q.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){var a=this,n=this.props.searchText;if(n&&void 0!==n.value&&e.searchText!==this.props.searchText){var c=n.value;if(c)this.setState({text:c},(function(){return a.props.onSearch(c)}));else try{this.props.onHide()}catch(o){console.log(o)}}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,a=t.options,n=t.onHide,c=this.state.text;return console.log(c),Object(C.jsx)(ie.a,{appear:!0,in:!0,timeout:300,children:Object(C.jsxs)("div",{className:r.main,ref:function(t){return e.rootRef=t},children:[Object(C.jsx)(ue.a,{className:r.searchIcon}),Object(C.jsx)(se.a,{className:r.searchText,autoFocus:!0,InputProps:{"data-test-id":a.textLabels.toolbar.search},inputProps:{"aria-label":a.textLabels.toolbar.search},value:c||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:a.searchPlaceholder}),Object(C.jsx)(m.a,{className:r.clearIcon,onClick:n,children:Object(C.jsx)(be.a,{})})]})})}}]),r}(n.a.PureComponent),fe=Object(pe.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(je),he=a.forwardRef((function(e,t){var r,a,n=Object(te.cloneDeep)(Object(re.a)()),c=Object(ae.a)(n.breakpoints.down("sm")),o=(r=e.debouncedSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Proxima pagina",previous:"Pagina anterior",rowsPerPage:"Por pagina",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registro(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,a,n){return Object(C.jsx)(fe,{options:n,searchText:e,onSearch:t,onHide:a,debounceTime:r})}}),s=Object(te.merge)({options:Object(te.cloneDeep)(o)},e,{columns:(a=e.columns,function(e){e.forEach((function(e,t){e.width&&(n.overrides.MUIDataTableHeadCell.fixedHeader["&:nth-child(".concat(t+2,")")]={width:e.width})}))}(a),a.map((function(e){return Object(te.omit)(e,"width")})))});!function(){var t=s.options.textLabels;t.body.noMatch=!0===e.loading?"Carregando...":t.body.noMatch}(),s.options.responsive=c?"scrollMaxHeight":"stacked";var l=Object(J.a)(Object(J.a)({},Object(te.omit)(s,"loading")),{},{ref:t});return Object(C.jsx)(i.a,{theme:n,children:Object(C.jsx)(ee.a,Object(J.a)({},l))})}));function me(e){return function(t){var r=Object(te.cloneDeep)(t),a='&[data-colindex="MuiDataTableBodyCell-'.concat(e,'"]');return r.overrides.MUIDataTableBodyCell.root[a]={paddingTop:"0px",paddingBottom:"0px"},r}}var Oe,ge=r(31),xe=r(75),ve=r.n(xe),ye=r(344),Pe=r(393),Ce=r.n(Pe),ke=Object(d.a)((function(e){return{iconButton:e.overrides.MUIDataTableToolbar.icon}})),Se=function(e){var t=ke();return Object(C.jsx)(ye.a,{title:"Limpar busca",children:Object(C.jsx)(m.a,{className:t.iconButton,onClick:e.handleClick,children:Object(C.jsx)(Ce.a,{})})})},we=r(129),Fe=Object(we.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),Te=Fe.Types,Re=Fe.Creators;console.log("Creators:",Re);var Ie={search:null,pagination:{page:1,per_page:10},order:{sort:null,dir:null}},Ae=Object(we.createReducer)(Ie,(Oe={},Object(u.a)(Oe,Te.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(J.a)(Object(J.a)({},e),{},{search:t.payload.search,pagination:Object(J.a)(Object(J.a)({},e.pagination),{},{page:1})})})),Object(u.a)(Oe,Te.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(J.a)(Object(J.a)({},e),{},{pagination:Object(J.a)(Object(J.a)({},e.pagination),{},{page:t.payload.page})})})),Object(u.a)(Oe,Te.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(J.a)(Object(J.a)({},e),{},{pagination:Object(J.a)(Object(J.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(u.a)(Oe,Te.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(J.a)(Object(J.a)({},e),{},{order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(u.a)(Oe,Te.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(u.a)(Oe,Te.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(J.a)(Object(J.a)({},e),{},{extraFilter:Object(J.a)(Object(J.a)({},e.extraFilter),t.payload)})})),Oe));var De=r(677),Ne=r(19),Ee=r(97);function Le(e){var t=Object(Ne.f)(),r=Object(Ne.g)(),n=r.search,c=r.pathname,o=r.state,i=e.rowsPerPage,s=e.rowsPerPageOptions,l=e.extraFilter,u=e.columns,d=Object(a.useMemo)((function(){return Ee.e().shape(Object(J.a)({search:Ee.g().transform((function(e){return e||void 0})).default(""),pagination:Ee.e().shape({page:Ee.d().transform((function(e){return isNaN(e)||parseInt(e)<1?void 0:e})).default(1),per_page:Ee.d().transform((function(e){return isNaN(e)||!s.includes(parseInt(e))?void 0:e})).default(i)}),order:Ee.e().shape({sort:Ee.g().nullable().transform((function(e){return u.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:Ee.g().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},l&&{extraFilter:l.createValidationSchema()}))}),[s,i,u,l]),b=Object(a.useMemo)((function(){var e=new URLSearchParams(n.substr(1));return d.cast(Object(J.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},l&&{extraFilter:l.getStateFromURL(e)}))}),[d,l,n]),p=Object(a.useCallback)((function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}),[]),j=Object(a.useCallback)((function(e,t){var r=p(e.search);return Object(J.a)(Object(J.a)(Object(J.a)(Object(J.a)(Object(J.a)({},r&&""!==r&&{search:r}),1!==e.pagination.page&&{page:e.pagination.page}),15!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.sort&&{sort:e.order.sort,dir:e.order.dir}),t&&t.formatSearchParams(e))}),[p]),f=b,m=Object(a.useReducer)(Ae,f),O=Object(h.a)(m,2),g=O[0],x=O[1],v=new Be(Object(J.a)(Object(J.a)({},e),{},{state:g,dispatch:x,schema:d})),y=Object(a.useState)(0),P=Object(h.a)(y,2),C=P[0],k=P[1],S=Object(De.a)(g,e.debounceTime),w=Object(h.a)(S,1)[0];return Object(a.useEffect)((function(){t.replace({pathname:c,search:"?"+new URLSearchParams(j(b,l)),state:b})}),[t,c,b,l,j]),Object(a.useEffect)((function(){var e={pathname:c,search:"?"+new URLSearchParams(j(w,l)),state:Object(J.a)(Object(J.a)({},w),{},{search:p(w.search)})},r=o,a=w;Object(te.isEqual)(r,a)||t.push(e)}),[t,w,l,p,j,c,o]),v.state=g,v.applyOrderInColumns(),{columns:v.columns,cleanSearchText:p,filterManager:v,filterState:g,debouncedFilterState:w,dispatch:x,totalRecords:C,setTotalRecords:k}}Object(Ee.f)({mixed:{required:"${path} e requerido",notType:"${path} e invalido"},string:{max:"${path} precisa ter no m\xe1ximo ${max}"},number:{min:"${path} precisa ser no m\xednimo ${min}"}}),Object(Ee.a)(Ee.d,"xpto",(function(){return this.test({message:"message de error",test:function(e){return!0}})}));var Be=function(){function e(t){Object(M.a)(this,e),this.schema=void 0,this.state=void 0,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0,this.tableRef=void 0;var r=t.schema,a=t.columns,n=t.rowsPerPage,c=t.tableRef,o=t.dispatch,i=t.state;this.schema=r,this.columns=a,this.rowsPerPage=n,this.tableRef=c,this.dispatch=o,this.state=i}return Object(q.a)(e,[{key:"resetTablePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}},{key:"changeSearch",value:function(e){this.dispatch(Re.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Re.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Re.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Re.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resetTablePagination()}},{key:"resetFilter",value:function(){var e=Object(J.a)(Object(J.a)({},this.schema.cast({})),{},{search:{value:null,update:!0}});this.dispatch(Re.setReset({state:e})),this.resetTablePagination()}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(J.a)(Object(J.a)({},t),{},{options:Object(J.a)(Object(J.a)({},t.options),{},{sortOrder:{name:e.state.order.sort,direction:e.state.order.dir}})}):t}))}},{key:"changeExtraFilter",value:function(e){this.dispatch(Re.updateExtraFilter(e))}}]),e}(),Me=Object(a.createContext)(!1),qe=[{name:"id",label:"ID",width:"33%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"40%",options:{filter:!1}},{name:"is_active",label:"Ativo?",width:"4%",options:{filterOptions:{names:["Sim","Nao"]},customBodyRender:function(e,t,r){return e?Object(C.jsx)(Z,{}):Object(C.jsx)(K,{})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(C.jsx)("span",{children:Object(C.jsx)(m.a,{color:"secondary",component:y.b,to:"/categories/".concat(t.rowData[0],"/edit"),children:Object(C.jsx)(ve.a,{})})})}}}],Ve=[15,25,50],Ue=function(){var e=Object(ge.b)(),t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(h.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(Me),l=Object(a.useRef)(),u=Le({columns:qe,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:Ve,tableRef:l}),d=u.columns,b=u.filterManager,p=u.cleanSearchText,j=u.filterState,f=u.debouncedFilterState,m=u.totalRecords,O=u.setTotalRecords;function g(){return(g=Object(R.a)(T.a.mark((function r(){var a,n;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.list({queryParams:{search:p(j.search),page:j.pagination.page,per_page:j.pagination.per_page,sort:j.order.sort,dir:j.order.dir}});case 3:a=r.sent,n=a.data,t.current&&(o(n.data),O(n.meta.total)),r.next=14;break;case 8:if(r.prev=8,r.t0=r.catch(0),console.error(r.t0),!z.isCancelledRequest(r.t0)){r.next=13;break}return r.abrupt("return");case 13:e.enqueueSnackbar("Nao foi possivel carregar as informacoes",{variant:"error"});case 14:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return t.current=!0,function(){g.apply(this,arguments)}(),function(){t.current=!1}}),[p(f.search),f.pagination.page,f.pagination.per_page,f.order]),Object(C.jsx)(i.a,{theme:me(qe.length-1),children:Object(C.jsx)(he,{title:"Listagem de categorias",columns:d,data:c,loading:s,debouncedSearchTime:300,ref:l,options:{serverSide:!0,responsive:"scrollMaxHeight",searchText:j.search,page:j.pagination.page-1,rowsPerPage:j.pagination.per_page,rowsPerPageOptions:Ve,count:m,customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return b.resetFilter()}})},onSearchChange:function(e){return b.changeSearch(e)},onChangePage:function(e){return b.changePage(e)},onChangeRowsPerPage:function(e){return b.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return b.changeColumnSort(e,t)}}})})},ze=function(){return Object(C.jsxs)(S,{title:"Listagem categorias",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(v.a,{title:"Adicionar categoria",color:"secondary",size:"small",component:y.b,to:"/categories/create",children:Object(C.jsx)(w.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(Ue,{})})]})},_e=r(349),Ge=r(384),We=r(76),He=r(91),Ye=Object(d.a)((function(e){return{submit:{margin:e.spacing(1)}}})),Qe=function(e){var t={variant:"contained",color:"secondary",size:"medium",className:Ye().submit,disabled:void 0!==e.disabledButtons&&e.disabledButtons};return Object(C.jsxs)(l.a,{dir:"ltf",children:[Object(C.jsx)(f.a,Object(J.a)(Object(J.a)({},t),{},{onClick:e.handleSave,children:"Salvar"})),Object(C.jsx)(f.a,Object(J.a)(Object(J.a)({},t),{},{type:"submit",children:"Salvar e continuar editando"}))]})},Xe=r(218),Ze=r(663),Ke=Object(d.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),Je=function(e){var t=Ke(),r=e.GridContainerProps,a=e.GridItemProps,n=Object(Xe.a)(e,["GridContainerProps","GridItemProps"]);return Object(C.jsx)("form",Object(J.a)(Object(J.a)({},n),{},{children:Object(C.jsx)(Ze.a,Object(J.a)(Object(J.a)({container:!0},r),{},{children:Object(C.jsx)(Ze.a,Object(J.a)(Object(J.a)({className:t.gridItem,item:!0},a),{},{children:e.children}))}))}))},$e=Ee.e().shape({name:Ee.g().label("Nome").required().max(255)}),et=function(){var e=Object(We.b)({resolver:Object(He.a)($e),defaultValues:{is_active:!0}}),t=e.register,r=e.handleSubmit,n=e.getValues,c=e.setValue,o=e.errors,i=e.reset,s=e.watch,l=e.trigger,u=Object(ge.b)(),d=Object(Ne.f)(),b=Object(Ne.h)().id,p=Object(a.useState)(null),j=Object(h.a)(p,2),f=j[0],m=j[1],O=Object(a.useContext)(Me);function g(e,t){return x.apply(this,arguments)}function x(){return(x=Object(R.a)(T.a.mark((function e(t,r){var a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=f?z.update(f.id,t):z.create(t),e.next=4,a;case 4:n=e.sent,c=n.data,u.enqueueSnackbar("Categoria salva com sucesso!",{variant:"success"}),setTimeout((function(){r?b?d.replace("/categories/".concat(c.data.id,"/edit")):d.push("/categories/".concat(c.data.id,"/edit")):d.push("/categories")})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),u.enqueueSnackbar("Nao foi possivel salvar a categoria!",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){b&&function(){var e=Object(R.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get(b);case 3:t=e.sent,r=t.data,m(r.data),i(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),u.enqueueSnackbar("Nao foi possivel carregar as informacoes!",{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(a.useEffect)((function(){t({name:"is_active"})}),[t]),Object(C.jsxs)(Je,{GridItemProps:{xs:12,md:6},onSubmit:r(g),children:[Object(C.jsx)(se.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,disabled:O,error:void 0!==o.name,helperText:o.name&&o.name.message,InputLabelProps:{shrink:!0}}),Object(C.jsx)(se.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",margin:"normal",disabled:O,inputRef:t,InputLabelProps:{shrink:!0}}),Object(C.jsx)(_e.a,{control:Object(C.jsx)(Ge.a,{name:"is_active",color:"primary",onChange:function(){return c("is_active",!n().is_active)},checked:s("is_active"),disabled:O}),label:"Ativo",labelPlacement:"end"}),Object(C.jsx)(Qe,{disabledButtons:O,handleSave:function(){return l().then((function(e){e&&g(n(),null)}))}})]})},tt=function(){var e=Object(Ne.h)().id;return Object(C.jsx)(S,{title:e?"Editar categoria":"Criar categoria",children:Object(C.jsx)(et,{})})},rt=new U(L,"genres"),at=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"23%",options:{filter:!1}},{name:"is_active",label:"Ativo?",options:{customBodyRender:function(e,t,r){return e?Object(C.jsx)(Z,{}):Object(C.jsx)(K,{})}},width:"4%"},{name:"categories",label:"Categorias",width:"20%",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e,t,r){return"teste"}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return Object(C.jsx)("span",{children:Object(C.jsx)(m.a,{color:"secondary",component:y.b,to:"/genres/".concat(t.rowData[0],"/edit"),children:Object(C.jsx)(ve.a,{})})})}}}],nt=[15,25,50],ct={createValidationSchema:function(){return Ee.e().shape({categories:Ee.c().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(J.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromURL:function(e){return{categories:e.get("categories")}}},ot=function(){var e=Object(ge.b)(),t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(h.a)(r,2),c=n[0],o=n[1],s=Object(a.useState)(!1),l=Object(h.a)(s,2),d=l[0],b=l[1],p=Object(a.useRef)(),j=Le({columns:at,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:nt,tableRef:p,extraFilter:ct}),f=j.columns,m=j.filterManager,O=j.cleanSearchText,g=j.filterState,x=j.debouncedFilterState,v=j.totalRecords,y=j.setTotalRecords,P=f.findIndex((function(e){return"categories"===e.name})),k=f[P],S=g.extraFilter&&g.extraFilter.categories;k.options.filterList=S||[];var w=f.map((function(e){return[]}));function F(){return(F=Object(R.a)(T.a.mark((function r(){var a,n;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return b(!0),r.prev=1,r.next=4,rt.list({queryParams:Object(J.a)({search:O(g.search),page:g.pagination.page,per_page:g.pagination.per_page,sort:g.order.sort,dir:g.order.dir},x.extraFilter&&x.extraFilter.categories&&{categories:x.extraFilter.categories.join(",")})});case 4:a=r.sent,n=a.data,t.current&&(o(n.data),y(n.meta.total)),r.next=15;break;case 9:if(r.prev=9,r.t0=r.catch(1),console.error(r.t0),!rt.isCancelledRequest(r.t0)){r.next=14;break}return r.abrupt("return");case 14:e.enqueueSnackbar("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 15:return r.prev=15,b(!1),r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[1,9,15,18]])})))).apply(this,arguments)}return S&&(w[P]=S),Object(a.useEffect)((function(){var t=!0;return Object(R.a)(T.a.mark((function r(){var a,n;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,z.list({queryParams:{all:""}});case 3:a=r.sent,n=a.data,t&&(o(n.data),k.options.filterOptions.names=n.data.map((function(e){return e.name}))),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0),e.enqueueSnackbar("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))(),function(){t=!1}}),[]),Object(a.useEffect)((function(){return t.current=!0,function(){F.apply(this,arguments)}(),function(){t.current=!1}}),[O(x.search),x.pagination.page,x.pagination.per_page,x.order,JSON.stringify(x.extraFilter)]),Object(C.jsx)(i.a,{theme:me(at.length-1),children:Object(C.jsx)(he,{title:"Listagem de g\xe9neros",columns:at,data:c,loading:d,debouncedSearchTime:300,ref:p,options:{serverSideFilterList:w,serverSide:!0,responsive:"scrollMaxHeight",searchText:g.search,page:g.pagination.page-1,rowsPerPage:g.pagination.per_page,rowsPerPageOptions:nt,count:v,onFilterChange:function(e,t){var r=f.findIndex((function(t){return t.name===e}));m.changeExtraFilter(Object(u.a)({},e,t[r].length?t[r]:null))},customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return m.resetFilter()}})},onSearchChange:function(e){return m.changeSearch(e)},onChangePage:function(e){return m.changePage(e)},onChangeRowsPerPage:function(e){return m.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return m.changeColumnSort(e,t)}}})})},it=function(){return Object(C.jsxs)(S,{title:"Listagem g\xeaneros",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(v.a,{title:"Adicionar g\xeanero",color:"secondary",size:"small",component:y.b,to:"/genres/create",children:Object(C.jsx)(w.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(ot,{})})]})},st=Ee.e().shape({name:Ee.g().label("Nome").required().max(255),categories_id:Ee.b().label("Categorias").required()}),lt=function(){var e=Object(We.b)({resolver:Object(He.a)(st),defaultValues:{categories_id:[],name:""}}),t=e.register,r=e.handleSubmit,n=e.getValues,c=e.setValue,o=e.errors,i=e.reset,s=e.watch,l=e.trigger,u=Object(ge.b)().enqueueSnackbar,d=Object(Ne.f)(),b=Object(Ne.h)().id,p=Object(a.useState)(null),j=Object(h.a)(p,2),f=j[0],m=j[1],O=Object(a.useState)([]),x=Object(h.a)(O,2),v=x[0],y=x[1],P=Object(a.useState)(!1),k=Object(h.a)(P,2),S=k[0],w=k[1];function F(e,t){return I.apply(this,arguments)}function I(){return(I=Object(R.a)(T.a.mark((function e(t,r){var a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,a=f?rt.update(f.id,t):rt.create(t),e.next=5,a;case 5:n=e.sent,c=n.data,u("Genero salvo com sucesso",{variant:"success"}),setTimeout((function(){r?b?d.replace("/genres/".concat(c.data.id,"/edit")):d.push("/genres/".concat(c.data.id,"/edit")):d.push("/genres")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),u("Nao foi possivel salvar o genero",{variant:"error"});case 15:return e.prev=15,w(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){var e=Object(R.a)(T.a.mark((function e(){var t,r,a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),t=[z.list({queryParams:{all:""}})],b&&t.push(rt.get(b)),e.prev=3,e.next=6,Promise.all(t);case 6:r=e.sent,a=Object(h.a)(r,2),n=a[0],c=a[1],y(n.data.data),b&&(m(c.data.data),i(Object(J.a)(Object(J.a)({},c.data.data),{},{categories_id:c.data.data.categories.map((function(e){return e.id}))}))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),u("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(){return e.apply(this,arguments)}}()()}),[b,i,u]),Object(a.useEffect)((function(){t({name:"categories_id"})}),[t]),Object(C.jsxs)(Je,{GridItemProps:{xs:12,md:6},onSubmit:r(F),children:[Object(C.jsx)(se.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,disabled:S,error:void 0!==o.name,helperText:o.name&&o.name.message,InputLabelProps:{shrink:!0}}),Object(C.jsxs)(se.a,{select:!0,name:"categories_id",value:s("categories_id"),label:"Categories",margin:"normal",variant:"outlined",fullWidth:!0,onChange:function(e){c("categories_id",e.target.value)},SelectProps:{multiple:!0},disabled:S,error:void 0!==o.categories_id,helperText:o.categories_id&&o.categories_id,InputLabelProps:{shrink:!0},children:[Object(C.jsx)(g.a,{value:"",disabled:!0,children:Object(C.jsx)("em",{children:"Selecione categorias"})}),v.map((function(e,t){return Object(C.jsx)(g.a,{value:e.id,children:e.name},t)}))]}),Object(C.jsx)(Qe,{disabledButtons:S,handleSave:function(){return l().then((function(e){e&&F(n(),null)}))}})]})},ut=function(e){return Object(C.jsx)(S,{title:"Criar genero",children:Object(C.jsx)(lt,{})})},dt=new U(L,"cast_members"),bt={0:"Diretor",1:"Ator"},pt=Object.values(bt),jt=[{name:"id",label:"ID",width:"20%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"25%",options:{filter:!1}},{name:"type",label:"Tipo",width:"25%",options:{filterOptions:{names:pt},customBodyRender:function(e,t,r){return bt[e]}}},{name:"created_at",label:"Criado em",width:"17%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(C.jsx)("span",{children:Object(C.jsx)(m.a,{color:"secondary",component:y.b,to:"/cast-members/".concat(t.rowData[0],"/edit"),children:Object(C.jsx)(ve.a,{})})})}}}],ft=[15,25,50],ht=function(){var e=Object(ge.b)().enqueueSnackbar,t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(h.a)(r,2),c=n[0],o=n[1],s=Object(a.useState)(!1),l=Object(h.a)(s,2),d=l[0],b=l[1],p=Object(a.useRef)(),j=Object(a.useMemo)((function(){return{createValidationSchema:function(){return Ee.e().shape({type:Ee.g().nullable().transform((function(e){return e&&pt.includes(e)?e:void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(J.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromURL:function(e){return{type:e.get("type")}}}}),[]),f=Le({columns:jt,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:ft,tableRef:p,extraFilter:j}),m=f.columns,O=f.filterManager,g=f.cleanSearchText,x=f.filterState,v=f.debouncedFilterState,y=f.totalRecords,P=f.setTotalRecords,k=g(x.search),S=m.findIndex((function(e){return"type"===e.name})),w=m[S],F=x.extraFilter&&x.extraFilter.type;w.options.filterList=F?[F]:[];var I=m.map((function(e){return[]}));F&&(I[S]=[F]);var A=Object(a.useCallback)(function(){var r=Object(R.a)(T.a.mark((function r(a){var n,c,i,s,l,u,d,p;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.search,c=a.page,i=a.per_page,s=a.sort,l=a.dir,u=a.type,b(!0),r.prev=2,r.next=5,dt.list({queryParams:Object(J.a)({search:n,page:c,per_page:i,sort:s,dir:l},u&&{type:Object(te.invert)(bt)[u]})});case 5:d=r.sent,p=d.data,t.current&&(o(p.data),P(p.meta.total)),r.next=16;break;case 10:if(r.prev=10,r.t0=r.catch(2),console.error(r.t0),!dt.isCancelledRequest(r.t0)){r.next=15;break}return r.abrupt("return");case 15:e("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 16:return r.prev=16,b(!1),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[2,10,16,19]])})));return function(e){return r.apply(this,arguments)}}(),[e,P]);return Object(a.useEffect)((function(){return t.current=!0,A(Object(J.a)({search:k,page:x.pagination.page,per_page:x.pagination.per_page,sort:x.order.sort,dir:x.order.dir},v.extraFilter&&v.extraFilter.type&&{type:v.extraFilter.type})),function(){t.current=!1}}),[A,k,v.pagination.page,v.pagination.per_page,v.order,v.extraFilter]),Object(C.jsx)(i.a,{theme:me(jt.length-1),children:Object(C.jsx)(he,{title:"Listagem de membros de elenco",columns:jt,data:c,loading:d,debouncedSearchTime:300,ref:p,options:{serverSideFilterList:I,serverSide:!0,responsive:"scrollMaxHeight",searchText:x.search,page:x.pagination.page-1,rowsPerPage:x.pagination.per_page,rowsPerPageOptions:ft,count:y,onFilterChange:function(e,t,r){var a=m.findIndex((function(t){return t.name===e}));O.changeExtraFilter(Object(u.a)({},e,t[a].length?t[a][0]:null))},customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return O.resetFilter()}})},onSearchChange:function(e){return O.changeSearch(e)},onChangePage:function(e){return O.changePage(e)},onChangeRowsPerPage:function(e){return O.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return O.changeColumnSort(e,t)}}})})},mt=function(){return Object(C.jsxs)(S,{title:"Listagem de membros de elencos",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(v.a,{title:"Adicionar membro de elenco",color:"secondary",size:"small",component:y.b,to:"/cast-members/create",children:Object(C.jsx)(w.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(ht,{})})]})},Ot=r(259),gt=r(632),xt=r(351),vt=r(674),yt=r(631),Pt=Ee.e().shape({name:Ee.g().label("Nome").required().max(255),type:Ee.d().label("Tipo").required()}),Ct=function(){var e=Object(We.b)({resolver:Object(He.a)(Pt)}),t=e.register,r=e.handleSubmit,n=e.getValues,c=e.setValue,o=e.errors,i=e.reset,s=e.watch,l=e.trigger,u=Object(ge.b)(),d=Object(Ne.f)(),b=Object(Ne.h)().id,p=Object(a.useState)(null),j=Object(h.a)(p,2),f=j[0],m=j[1],O=Object(a.useState)(!1),g=Object(h.a)(O,2),x=g[0],v=g[1];function y(e,t){return P.apply(this,arguments)}function P(){return(P=Object(R.a)(T.a.mark((function e(t,r){var a,n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,a=f?dt.update(f.id,t):dt.create(t),e.next=5,a;case 5:n=e.sent,c=n.data,u.enqueueSnackbar("Membro de elenco salvo com sucesso!",{variant:"success"}),setTimeout((function(){r?b?d.replace("/cast-members/".concat(c.data.id,"/edit")):d.push("/cast-members/".concat(c.data.id,"/edit")):d.push("/cast-members")})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),u.enqueueSnackbar("Nao foi possivel salvar o membro de elenco",{variant:"error"});case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(R.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,dt.get(b);case 4:t=e.sent,r=t.data,m(r.data),i(r.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),u.enqueueSnackbar("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})))).apply(this,arguments)}b&&function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){t({name:"type"})}),[t]),Object(C.jsxs)(Je,{GridItemProps:{xs:12,md:6},onSubmit:r(y),children:[Object(C.jsx)(se.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",inputRef:t,disabled:x,error:void 0!==o.name,helperText:o.name&&o.name.message,InputLabelProps:{shrink:!0}}),Object(C.jsxs)(Ot.a,{margin:"normal",error:void 0!==o.type,disabled:x,children:[Object(C.jsx)(gt.a,{component:"legend",children:"Tipo"}),Object(C.jsxs)(xt.a,{name:"type",onChange:function(e){c("type",parseInt(e.target.value))},value:s("type")+"",children:[Object(C.jsx)(_e.a,{value:"1",control:Object(C.jsx)(vt.a,{color:"primary"}),label:"Diretor"}),Object(C.jsx)(_e.a,{value:"2",control:Object(C.jsx)(vt.a,{color:"primary"}),label:"Ator"})]}),o.type&&Object(C.jsx)(yt.a,{id:"type-helper-text",children:o.type.message})]}),Object(C.jsx)(Qe,{disabledButtons:x,handleSave:function(){return l().then((function(e){e&&y(n(),null)}))}})]})},kt=function(e){return Object(C.jsx)(S,{title:"Criar membros",children:Object(C.jsx)(Ct,{})})},St=r(24),wt=r(648),Ft=r(650),Tt=new U(L,"videos"),Rt={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},It=Object(d.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#fff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),At={L:"#398549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#D00003",18:"#000000"},Dt=function(e){var t=It();return Object(C.jsx)(j.a,{className:t.root,style:{backgroundColor:At[e.rating]},children:e.rating})},Nt=[{value:"L",control:Object(C.jsx)(vt.a,{color:"primary"}),label:Object(C.jsx)(Dt,{rating:"L"}),labelPlacement:"top"},{value:"10",control:Object(C.jsx)(vt.a,{color:"primary"}),label:Object(C.jsx)(Dt,{rating:"10"}),labelPlacement:"top"},{value:"12",control:Object(C.jsx)(vt.a,{color:"primary"}),label:Object(C.jsx)(Dt,{rating:"12"}),labelPlacement:"top"},{value:"14",control:Object(C.jsx)(vt.a,{color:"primary"}),label:Object(C.jsx)(Dt,{rating:"14"}),labelPlacement:"top"},{value:"16",control:Object(C.jsx)(vt.a,{color:"primary"}),label:Object(C.jsx)(Dt,{rating:"16"}),labelPlacement:"top"},{value:"18",control:Object(C.jsx)(vt.a,{color:"primary"}),label:Object(C.jsx)(Dt,{rating:"18"}),labelPlacement:"top"}],Et=function(e){var t=e.value,r=e.setValue,a=e.disabled,n=e.errors;return Object(C.jsxs)(Ot.a,Object(J.a)(Object(J.a)({error:void 0!==n,disabled:!0===a},e.formControlProps),{},{children:[Object(C.jsx)(gt.a,{component:"legend",children:"Classificacao"}),Object(C.jsx)(l.a,{paddingTop:1,children:Object(C.jsx)(xt.a,{name:"rating",onChange:function(e){r(e.target.value)},value:t,row:!0,children:Nt.map((function(e,t){return Object(C.jsx)(_e.a,Object(J.a)({},e),t)}))})}),n&&Object(C.jsx)(yt.a,{children:n.message})]}))},Lt=r(397),Bt=r.n(Lt),Mt=r(665),qt=n.a.forwardRef((function(e,t){var r=n.a.useRef(),c=Object(a.useState)(""),o=Object(h.a)(c,2),i=o[0],s=o[1],l=Object(J.a)(Object(J.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(J.a)(Object(J.a)({},e.TextFieldProps&&e.TextFieldProps.InputProps&&Object(J.a)({},e.TextFieldProps.InputProps)),{},{readOnly:!0,endAdornment:Object(C.jsx)(Mt.a,{position:"start",children:e.ButtonFile})}),value:i}),u={hidden:!0,ref:r,onChange:function(t){var r=t.target.files;r.length&&(console.log(r),s(Array.from(r).map((function(e){return e.name})).join(", "))),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}};return Object(a.useImperativeHandle)(t,(function(){return{openWindow:function(){return r.current.click()},clear:function(){return s("")}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",Object(J.a)({type:"file"},u)),Object(C.jsx)(se.a,Object(J.a)({},l))]})})),Vt=n.a.forwardRef((function(e,t){var r=n.a.useRef(),c=e.accept,o=e.label,i=e.setValue,s=e.disabled,l=e.errors;return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return r.current.clear()}}})),Object(C.jsx)(Ot.a,Object(J.a)(Object(J.a)({error:void 0!==l,disabled:!0===s,fullWidth:!0,margin:"normal"},e.formControlProps),{},{children:Object(C.jsx)(qt,{ref:r,TextFieldProps:{label:o,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff"}},InputFileProps:{accept:c,onChange:function(e){var t=e.target.files;t.length&&i(t[0])}},ButtonFile:Object(C.jsx)(f.a,{endIcon:Object(C.jsx)(Bt.a,{}),variant:"contained",color:"primary",onClick:function(){r.current.openWindow()},children:" Adicionar "})})}))})),Ut=r(651),zt=r(673),_t=r(210),Gt=n.a.forwardRef((function(e,t){var r=e.AutoCompleteProps,n=e.debounceTime,c=void 0===n?300:n,o=e.fetchOptions,i=r,s=i.onOpen,l=i.onClose,u=i.onInputChange,d=i.freeSolo,b=(Object(ge.b)(),Object(a.useState)(!1)),p=Object(h.a)(b,2),j=p[0],f=p[1],m=Object(a.useState)(""),O=Object(h.a)(m,2),g=O[0],x=O[1],v=Object(_t.useDebounce)(g,c),y=Object(h.a)(v,1)[0],P=Object(a.useState)(!1),k=Object(h.a)(P,2),S=k[0],w=k[1],F=Object(a.useState)([]),I=Object(h.a)(F,2),A=I[0],D=I[1],N=Object(J.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(J.a)({},e.TextFieldProps)),E=Object(J.a)(Object(J.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado",loading:S,inputValue:g},e.AutoCompleteProps&&Object(J.a)({},e.AutoCompleteProps)),{},{open:j,options:A,onOpen:function(){f(!0),s&&s()},onClose:function(){f(!1),l&&l()},onInputChange:function(e,t){x(t),u&&u()},renderInput:function(e){return Object(C.jsx)(se.a,Object(J.a)(Object(J.a)(Object(J.a)({},e),N),{},{InputProps:Object(J.a)(Object(J.a)({},e.InputProps),{},{endAdornment:Object(C.jsxs)(C.Fragment,{children:[S&&Object(C.jsx)(Ut.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}});return Object(a.useEffect)((function(){j||d||D([])}),[j,d]),Object(a.useEffect)((function(){if(j&&(""!==y||!d)){Object(R.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,o(y);case 4:t=e.sent,D(t);case 6:return e.prev=6,w(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})))()}}),[d,y,j,o]),Object(a.useImperativeHandle)(t,(function(){return{clear:function(){x(""),D([])}}})),Object(C.jsx)(zt.a,Object(J.a)({},E))})),Wt=r(217),Ht=Object(d.a)((function(e){return Object(Wt.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),Yt=function(e){var t=Ht();return Object(C.jsx)(Ze.a,Object(J.a)(Object(J.a)({container:!0,wrap:"wrap",className:t.root},e),{},{children:e.children}))},Qt=r(96),Xt=r.n(Qt),Zt=function(e){var t=e.onDelete,r=e.children,a=Object(Xe.a)(e,["onDelete","children"]);return Object(C.jsx)(Ze.a,Object(J.a)(Object(J.a)({item:!0},a),{},{children:Object(C.jsxs)(Ze.a,{container:!0,alignItems:"center",spacing:3,children:[Object(C.jsx)(Ze.a,{item:!0,xs:1,children:Object(C.jsx)(m.a,{size:"small",color:"inherit",onClick:t,children:Object(C.jsx)(Xt.a,{})})}),Object(C.jsx)(Ze.a,{item:!0,xs:10,md:11,children:r})]})}))},Kt=function(e,t){var r=Object(ge.b)();return{addItem:function(a){a&&""!==a&&(e.find((function(e){return e.id===a.id}))?r.enqueueSnackbar("Item ja adicionado",{variant:"info"}):(e.unshift(a),t(e)))},removeItem:function(r){var a=e.findIndex((function(e){return e.id===r.id}));-1!==a&&(e.splice(a,1),t(e))}}},Jt=function(){var e=Object(ge.b)().enqueueSnackbar;return Object(a.useCallback)(function(){var t=Object(R.a)(T.a.mark((function t(r){var a,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r;case 3:return a=t.sent,n=a.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),console.log(t.t0),E.a.isCancel(t.t0)||e("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])};function $t(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var er=n.a.forwardRef((function(e,t){var r=e.genres,n=e.setGenres,c=e.error,o=e.disabled,i=e.categories,s=e.setCategories,l=Kt(r,n),u=l.addItem,d=l.removeItem,b=Kt(i,s).removeItem,p=Jt(),f=Object(a.useRef)();return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return f.current.clear()}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Gt,{ref:f,fetchOptions:function(e){return p(rt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},AutoCompleteProps:{autoSelect:!0,clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},onChange:function(e,t){return u(t)},disabled:o},TextFieldProps:{label:"Generos",error:void 0!==c}}),Object(C.jsx)(yt.a,{style:{height:"24px"},children:"Escolha os g\xe9neros do video"}),Object(C.jsxs)(Ot.a,Object(J.a)(Object(J.a)({margin:"normal",fullWidth:!0,error:void 0!==c,disabled:o},e.FormControlProps),{},{children:[Object(C.jsx)(Yt,{children:r.map((function(e,t){return Object(C.jsx)(Zt,{onDelete:function(){i.filter((function(t){var r=$t(e,t);return 1===r.length&&r[0].id===e.id})).forEach((function(e){return b(e)})),d(e)},xs:12,children:Object(C.jsx)(j.a,{children:e.name})},t)}))}),c&&Object(C.jsx)(yt.a,{children:c.message})]}))]})})),tr=r(117),rr=Object(d.a)((function(e){return{genresSubtitle:{color:tr.a[800],fontSize:"0.8rem"}}})),ar=n.a.forwardRef((function(e,t){var r=rr(),n=Jt(),c=e.categories,o=e.setCategories,i=e.genres,s=e.error,l=e.disabled,u=Kt(c,o),d=u.addItem,b=u.removeItem,p=Object(a.useRef)();return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return p.current.clear()}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Gt,{ref:p,fetchOptions:function(e){return n(z.list({queryParams:{genres:i.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data}))},AutoCompleteProps:{autoSelect:!0,clearOnEscape:!0,freeSolo:!1,getOptionLabel:function(e){return e.name},onChange:function(e,t){return d(t)},disabled:!0===l||!i.length},TextFieldProps:{label:"Categorias",error:void 0!==s}}),Object(C.jsx)(yt.a,{style:{height:"24px"},children:"Escolha pelo menos uma categoria de cada g\xe9nero"}),Object(C.jsxs)(Ot.a,Object(J.a)(Object(J.a)({margin:"normal",fullWidth:!0,error:void 0!==s,disabled:l},e.FormControlProps),{},{children:[Object(C.jsx)(Yt,{children:c.map((function(e,t){var a=$t(i,e).map((function(e){return e.name})).join(",");return Object(C.jsxs)(Zt,{onDelete:function(){return b(e)},xs:12,children:[Object(C.jsx)(j.a,{noWrap:!0,children:e.name}),Object(C.jsxs)(j.a,{noWrap:!0,className:r.genresSubtitle,children:["Genero: ",a]})]},t)}))}),s&&Object(C.jsx)(yt.a,{children:s.message})]}))]})})),nr=n.a.forwardRef((function(e,t){var r=Jt(),n=e.castMembers,c=e.setCastMembers,o=e.error,i=e.disabled,s=Kt(n,c),l=s.addItem,u=s.removeItem,d=Object(a.useRef)(),b=Object(a.useCallback)((function(e){return r(dt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[r]);return Object(a.useImperativeHandle)(t,(function(){return{clear:function(){return d.current.clear()}}})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Gt,{ref:d,fetchOptions:b,AutoCompleteProps:{autoSelect:!0,clearOnEscape:!0,freeSolo:!1,getOptionLabel:function(e){return e.name},onChange:function(e,t){return l(t)},disabled:i},TextFieldProps:{label:"Cast-Member",error:void 0!==o}}),Object(C.jsxs)(Ot.a,Object(J.a)(Object(J.a)({margin:"normal",fullWidth:!0,error:void 0!==o,disabled:i},e.FormControlProps),{},{children:[Object(C.jsx)(Yt,{children:n.map((function(e,t){return Object(C.jsx)(Zt,{onDelete:function(){return u(e)},xs:6,children:Object(C.jsx)(j.a,{noWrap:!0,children:e.name})},t)}))}),o&&Object(C.jsx)(yt.a,{children:o.message})]}))]})})),cr=function(e,t){var r=Object(ge.b)().enqueueSnackbar;Object(a.useEffect)((function(){var a=0!==Object.keys(t).length;e>0&&a&&r("Formul\xe1rio invalido. Reveja os campos marcados de vermelhos",{variant:"error"})}),[e,t,r])},or=r(649),ir=r(404),sr=r(627),lr=r(215),ur=r.n(lr),dr=r(214),br=r.n(dr),pr=r(256),jr=r.n(pr),fr=r(623),hr=r(668),mr=r(350),Or=r(658),gr=r(213),xr=r.n(gr),vr=r(405);function yr(e){return 1===e.progress||Pr(e)}function Pr(e){return Cr(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function Cr(e){return"video"in e}var kr,Sr=Object(d.a)((function(e){return{progressContainer:{position:"relative"},progress:{position:"absolute",left:0},progressBackground:{color:tr.a[300]}}})),wr=function(e){var t=Sr(),r=e.size,a=e.uploadOrFile,n=Pr(a);return Object(C.jsx)(vr.a,{in:a.progress<1,timeout:{enter:100,exit:2e3},children:Object(C.jsxs)("div",{className:t.progressContainer,children:[Object(C.jsx)(Ut.a,{variant:"determinate",value:100,className:t.progressBackground,size:r}),Object(C.jsx)(Ut.a,{variant:"determinate",value:n?0:100*a.progress,className:t.progress,size:r})]})})},Fr=r(669),Tr=r(211),Rr=r.n(Tr),Ir=r(212),Ar=r.n(Ir),Dr=r(65),Nr=r(154),Er=r.n(Nr),Lr=Object(we.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),Br=Lr.Types,Mr=Lr.Creators,qr={uploads:[]},Vr=Object(we.createReducer)(qr,(kr={},Object(u.a)(kr,Br.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var r=_r(e,t.payload.video.id);if(-1!==r&&e.uploads[r].progress<1)return e;var a=-1===r?e.uploads:Er()(e.uploads,{$splice:[[r,1]]});return{uploads:[].concat(Object(St.a)(a),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(u.a)(kr,Br.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,t=arguments.length>1?arguments[1]:void 0,r=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(r.length===e.uploads.length)return e;return{uploads:r}})),Object(u.a)(kr,Br.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=Ur(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c)return e;var i=e.uploads[c],s=i.files[o];if(s.progress===t.payload.progress)return e;var l=Er()(e.uploads,Object(u.a)({},c,{$apply:function(e){var r=Er()(e.files,Object(u.a)({},o,{$set:Object(J.a)(Object(J.a)({},s),{},{progress:t.payload.progress})})),a=zr(r);return Object(J.a)(Object(J.a)({},e),{},{progress:a,files:r})}}));return{uploads:l}})),Object(u.a)(kr,Br.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qr,t=arguments.length>1?arguments[1]:void 0,r=t.payload.video.id,a=t.payload.fileField,n=Ur(e,r,a),c=n.indexUpload,o=n.indexFile;if("undefined"===typeof c)return e;var i=e.uploads[c],s=i.files[o],l=Er()(e.uploads,Object(u.a)({},c,{files:Object(u.a)({},o,{$set:Object(J.a)(Object(J.a)({},s),{},{error:t.payload.error,progress:1})})}));return{uploads:l}})),kr));function Ur(e,t,r){var a=_r(e,t);if(-1===a)return{};var n=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[a].files,r);return-1===n?{}:{indexUpload:a,indexFile:n}}function zr(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function _r(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}var Gr=Object(d.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main}}})),Wr=function(e){var t=e.upload,r=e.hover,n=Gr(),c=Object(Dr.b)(),o=Pr(t),i=Object(a.useState)(!1),s=Object(h.a)(i,2),l=s[0],u=s[1],d=Object(De.a)(l,2500),b=Object(h.a)(d,1)[0];return Object(a.useEffect)((function(){u(yr(t))}),[t]),b?Object(C.jsx)(vr.a,{in:l,timeout:{enter:1e3},children:Object(C.jsxs)(Fr.a,{children:[Object(C.jsxs)("span",{hidden:r,children:[1===t.progress&&!o&&Object(C.jsx)(m.a,{className:n.successIcon,edge:"end",children:Object(C.jsx)(Rr.a,{})}),o&&Object(C.jsx)(m.a,{className:n.errorIcon,edge:"end",children:Object(C.jsx)(Ar.a,{})})]}),Object(C.jsx)("span",{hidden:!r,children:Object(C.jsx)(m.a,{color:"primary",edge:"end",onClick:function(){return c(Mr.removeUpload({id:t.video.id}))},children:Object(C.jsx)(Xt.a,{})})})]})}):null},Hr=Object(d.a)((function(e){return{listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),Yr=function(e){var t=e.upload,r=Hr(),n=Pr(t),c=Object(a.useState)(!1),o=Object(h.a)(c,2),i=o[0],s=o[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ye.a,{disableFocusListener:!0,disableTouchListener:!0,title:n?"N\xe3o foi poss\xedvel fazer o upload, clique para mais detalhes":"",placement:"left",children:Object(C.jsxs)(fr.a,{className:r.listItem,button:!0,onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(C.jsx)(hr.a,{className:r.movieIcon,children:Object(C.jsx)(xr.a,{})}),Object(C.jsx)(mr.a,{className:r.listItemText,primary:Object(C.jsx)(j.a,{noWrap:!0,variant:"subtitle2",color:"inherit",children:t.video.title})}),Object(C.jsx)(wr,{size:30,uploadOrFile:t}),Object(C.jsx)(Wr,{upload:t,hover:i})]})}),Object(C.jsx)(Or.a,{component:"li"})]})},Qr=Object(d.a)((function(e){return{card:{width:450},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:0,paddingBottom:0}}})),Xr=a.forwardRef((function(e,t){var r=e.id,n=Qr(),c=Object(ge.b)().closeSnackbar,o=Object(a.useState)(!0),i=Object(h.a)(o,2),s=i[0],l=i[1],d=Object(Dr.c)((function(e){return e.upload.uploads})),b=function(e){return e.filter((function(e){return!yr(e)})).length}(d);return Object(C.jsxs)(wt.a,{ref:t,className:n.card,children:[Object(C.jsxs)(or.a,{classes:{root:n.cardActionRoot},children:[Object(C.jsxs)(j.a,{variant:"subtitle2",className:n.title,children:["Fazendo upload de ",b," v\xeddeo(s)"]}),Object(C.jsxs)("div",{className:n.icons,children:[Object(C.jsx)(m.a,{color:"inherit",onClick:function(){return l(!s)},className:jr()(n.expand,Object(u.a)({},n.expandOpen,!s)),children:Object(C.jsx)(br.a,{})}),Object(C.jsx)(m.a,{color:"inherit",onClick:function(){return c(r)},children:Object(C.jsx)(ur.a,{})})]})]}),Object(C.jsx)(ir.a,{in:s,children:Object(C.jsx)(sr.a,{className:n.list,children:d.map((function(e,t){return Object(C.jsx)(Yr,{upload:e},t)}))})})]})})),Zr=Object(d.a)((function(e){return{cardUpload:{borderRadius:"4px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),Kr=Ee.e().shape({title:Ee.g().label("T\xedtulo").required().max(255),description:Ee.g().label("Sinopse").required(),year_launched:Ee.d().label("Ano de lan\xe7amento").required().min(1),duration:Ee.d().label("Dura\xe7\xe3o").required().min(1),cast_members:Ee.b().label("Elenco").required(),genres:Ee.b().label("G\xe9neros").required().test({message:"Cada g\xe9nero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=this;return e.every((function(e){return 0!==e.categories.filter((function(e){return t.parent.categories.map((function(e){return e.id})).includes(e.id)})).length}))}}),categories:Ee.b().label("Categorias").required(),rating:Ee.g().label("Classifica\xe7\xe3o").required()}),Jr=Object.keys(Rt),$r=function(){var e=Object(We.b)({resolver:Object(He.a)(Kr),defaultValues:{rating:null,cast_members:[],genres:[],categories:[],opened:!1}}),t=e.register,r=e.handleSubmit,n=e.getValues,c=e.setValue,o=e.errors,i=e.reset,s=e.watch,l=e.trigger,u=e.formState;cr(u.submitCount,o);var d=Zr(),b=Object(ge.b)().enqueueSnackbar,p=Object(Ne.f)(),f=Object(Ne.h)().id,m=Object(a.useState)(null),O=Object(h.a)(m,2),g=O[0],x=O[1],v=Object(a.useContext)(Me),y=Object(re.a)(),P=Object(ae.a)(y.breakpoints.up("md")),k=Object(a.useRef)(),S=Object(a.useRef)(),w=Object(a.useRef)(),F=Object(a.useRef)(Object(te.zipObject)(Jr,Jr.map((function(){return Object(a.createRef)()})))),I=Object(Dr.b)(),A=Object(a.useCallback)((function(e){Object.keys(F.current).forEach((function(e){return F.current[e].current.clear()})),k.current.clear(),S.current.clear(),w.current.clear(),i(e)}),[k,w,S,i,F]);function D(e,t){return N.apply(this,arguments)}function N(){return(N=Object(R.a)(T.a.mark((function e(t,r){var a,n,c,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(te.omit)(t,[].concat(Object(St.a)(Jr),["cast_members","genres","categories"]))).cast_members_id=t.cast_members.map((function(e){return e.id})),a.categories_id=t.categories.map((function(e){return e.id})),a.genres_id=t.genres.map((function(e){return e.id})),e.prev=4,n=g?Tt.update(g.id,a):Tt.create(a),e.next=8,n;case 8:c=e.sent,o=c.data,b("V\xeddeo salvo com sucesso",{variant:"success"}),E(o.data),f&&A(g),setTimeout((function(){r?f?p.replace("/videos/".concat(o.data.id,"/edit")):p.push("/videos/".concat(o.data.id,"/edit")):p.push("/videos")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0),b("N\xe3o foi poss\xedvel salvar o v\xeddeo",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function E(e){var t=Jr.filter((function(e){return n()[e]})).map((function(e){return{fileField:e,file:n()[e]}}));t.length&&(I(Mr.addUpload({video:e,files:t})),b("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var r=e;return Object(C.jsx)(Xr,{id:r})}}))}return Object(a.useEffect)((function(){["rating","opened","cast_members","genres","categories"].concat(Object(St.a)(Jr)).forEach((function(e){return t({name:e})}))}),[t]),Object(a.useEffect)((function(){if(f){var e=!0;return Object(R.a)(T.a.mark((function t(){var r,a;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tt.get(f);case 3:r=t.sent,a=r.data,e&&(x(a.data),A(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),b("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))(),function(){e=!1}}}),[f,A,b]),Object(C.jsxs)(Je,{GridItemProps:{xs:12},onSubmit:r(D),children:[Object(C.jsxs)(Ze.a,{container:!0,spacing:5,children:[Object(C.jsxs)(Ze.a,{item:!0,xs:12,md:6,children:[Object(C.jsx)(se.a,{name:"title",label:"T\xedtulo",variant:"outlined",fullWidth:!0,inputRef:t,disabled:v,InputLabelProps:{shrink:!0},error:void 0!==o.title,helperText:o.title&&o.title.message}),Object(C.jsx)(se.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:v,InputLabelProps:{shrink:!0},error:void 0!==o.description,helperText:o.description&&o.description.message}),Object(C.jsxs)(Ze.a,{container:!0,spacing:1,children:[Object(C.jsx)(Ze.a,{item:!0,xs:6,children:Object(C.jsx)(se.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:v,InputLabelProps:{shrink:!0},error:void 0!==o.year_launched,helperText:o.year_launched&&o.year_launched.message})}),Object(C.jsx)(Ze.a,{item:!0,xs:6,children:Object(C.jsx)(se.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",margin:"normal",variant:"outlined",fullWidth:!0,inputRef:t,disabled:v,InputLabelProps:{shrink:!0},error:void 0!==o.duration,helperText:o.duration&&o.duration.message})})]}),Object(C.jsx)(nr,{ref:k,castMembers:s("cast_members"),setCastMembers:function(e){return c("cast_members",e)},error:o.cast_members,disabled:v}),Object(C.jsxs)(Ze.a,{container:!0,spacing:2,children:[Object(C.jsx)(Ze.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(er,{ref:S,genres:s("genres"),setGenres:function(e){return c("genres",e)},categories:s("categories"),setCategories:function(e){return c("categories",e)},error:o.genres,disabled:v})}),Object(C.jsx)(Ze.a,{item:!0,xs:12,md:6,children:Object(C.jsx)(ar,{ref:w,categories:s("categories"),setCategories:function(e){return c("categories",e)},genres:s("genres"),error:o.categories,disabled:v})})]})]}),Object(C.jsxs)(Ze.a,{item:!0,xs:12,md:6,children:[Object(C.jsx)(Et,{value:s("rating"),setValue:function(e){return c("rating",e)},errors:o.rating,disabled:v,formControlProps:{margin:P?"none":"normal"}}),Object(C.jsx)(wt.a,{className:d.cardUpload,children:Object(C.jsxs)(Ft.a,{children:[Object(C.jsx)(j.a,{color:"primary",variant:"h6",children:"Imagens"}),Object(C.jsx)(Vt,{ref:F.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return c("thumb_file",e)}}),Object(C.jsx)(Vt,{ref:F.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return c("banner_file",e)}})]})}),Object(C.jsx)(wt.a,{className:d.cardUpload,children:Object(C.jsxs)(Ft.a,{children:[Object(C.jsx)(j.a,{color:"primary",variant:"h6",children:"Videos"}),Object(C.jsx)(Vt,{ref:F.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return c("trailer_file",e)}}),Object(C.jsx)(Vt,{ref:F.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){c("video_file",e),console.log(n())}})]})}),Object(C.jsx)(wt.a,{className:d.cardOpened,children:Object(C.jsx)(Ft.a,{className:d.cardContentOpened,children:Object(C.jsx)(_e.a,{control:Object(C.jsx)(Ge.a,{name:"opened",color:"primary",onChange:function(){return c("opened",!n().opened)},checked:s("opened"),disabled:v}),label:Object(C.jsx)(j.a,{color:"primary",variant:"subtitle2",children:"Quero que este conte\xfado apare\xe7a na se\xe7\xe3o lan\xe7amentos"}),labelPlacement:"end"})})})]})]}),Object(C.jsx)(Qe,{disabledButtons:v,handleSave:function(){return l().then((function(e){e&&D(n(),null)}))}})]})},ea=function(){var e=Object(Ne.h)().id;return Object(C.jsx)(S,{title:e?"Editar video":"Criar video",children:Object(C.jsx)($r,{})})},ta=r(653),ra=r(657),aa=r(655),na=r(656),ca=r(654),oa=function(e){var t=e.open,r=e.handleClose;return Object(C.jsxs)(ta.a,{open:t,onClose:function(){return r(!1)},children:[Object(C.jsx)(ra.a,{children:"Exclus\xe3o de registros"}),Object(C.jsx)(aa.a,{children:Object(C.jsx)(na.a,{children:"Deseja realmente excluir este(s) registro(s)?"})}),Object(C.jsxs)(ca.a,{children:[Object(C.jsx)(f.a,{onClick:function(){return r(!1)},color:"primary",children:"Cancelar"}),Object(C.jsx)(f.a,{onClick:function(){return r(!0)},color:"primary",autoFocus:!0,children:"Excluir"})]})]})},ia=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)({lookup:{},data:[]}),o=Object(h.a)(c,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){i.data.length&&n(!0)}),[i]),{openDeleteDialog:r,setOpenDeleteDialog:n,rowsToDelete:i,setRowsToDelete:s}},sa=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"title",label:"T\xedtulo",width:"20%",options:{filter:!1}},{name:"genres",label:"G\xeaneros",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return e.map((function(e){return e.name})).join(", ")}}},{name:"categories",label:"Categorias",width:"12%",options:{sort:!1,filter:!1,customBodyRender:function(e,t,r){return e.map((function(e){return e.name})).join(", ")}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,r){return Object(C.jsx)("span",{children:Object(I.a)(Object(A.a)(e),"dd/MM/yyyy")})}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return Object(C.jsx)(m.a,{color:"secondary",component:y.b,to:"/videos/".concat(t.rowData[0],"/edit"),children:Object(C.jsx)(ve.a,{})})}}}],la=[15,25,50],ua=function(){var e=Object(ge.b)(),t=Object(a.useRef)(!0),r=Object(a.useState)([]),n=Object(h.a)(r,2),c=n[0],o=n[1],s=Object(a.useContext)(Me),l=ia(),u=l.openDeleteDialog,d=l.setOpenDeleteDialog,b=l.rowsToDelete,p=l.setRowsToDelete,j=Object(a.useRef)(),f=Le({columns:sa,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:la,tableRef:j}),m=f.columns,O=f.filterManager,g=f.cleanSearchText,x=f.filterState,v=f.debouncedFilterState,y=f.totalRecords,P=f.setTotalRecords;function k(){return S.apply(this,arguments)}function S(){return(S=Object(R.a)(T.a.mark((function r(){var a,n;return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Tt.list({queryParams:{search:g(x.search),page:x.pagination.page,per_page:x.pagination.per_page,sort:x.order.sort,dir:x.order.dir}});case 3:a=r.sent,n=a.data,t.current&&(o(n.data),P(n.meta.total),u&&d(!1)),r.next=14;break;case 8:if(r.prev=8,r.t0=r.catch(0),console.error(r.t0),!Tt.isCancelledRequest(r.t0)){r.next=13;break}return r.abrupt("return");case 13:e.enqueueSnackbar("Nao foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"});case 14:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return t.current=!0,k(),function(){t.current=!1}}),[g(v.search),v.pagination.page,v.pagination.per_page,v.order]),Object(C.jsxs)(i.a,{theme:me(sa.length-1),children:[Object(C.jsx)(oa,{open:u,handleClose:function(t){if(t){var r=b.data.map((function(e){return c[e.index].id})).join(",");Tt.deleteCollection({ids:r}).then((function(t){if(e.enqueueSnackbar("Registros exclu\xeddos com sucesso",{variant:"success"}),b.data.length===x.pagination.per_page&&x.pagination.page>1){var r=x.pagination.page-2;O.changePage(r)}else k()})).catch((function(t){console.log(t),e.enqueueSnackbar("Nao foi poss\xedvel excluir os registros",{variant:"error"})}))}else d(!1)}}),Object(C.jsx)(he,{title:"Listagem de videos",columns:m,data:c,loading:s,debouncedSearchTime:300,ref:j,options:{serverSide:!0,responsive:"scrollMaxHeight",searchText:x.search,page:x.pagination.page-1,rowsPerPage:x.pagination.per_page,rowsPerPageOptions:la,count:y,customToolbar:function(){return Object(C.jsx)(Se,{handleClick:function(){return O.resetFilter()}})},onSearchChange:function(e){return O.changeSearch(e)},onChangePage:function(e){return O.changePage(e)},onChangeRowsPerPage:function(e){return O.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return O.changeColumnSort(e,t)},onRowsDelete:function(e){return p(e),!1}}})]})},da=function(){return Object(C.jsxs)(S,{title:"Listagem videos",children:[Object(C.jsx)(l.a,{dir:"rtl",paddingBottom:2,children:Object(C.jsx)(v.a,{title:"Adicionar video",color:"secondary",size:"small",component:y.b,to:"/videos/create",children:Object(C.jsx)(w.a,{})})}),Object(C.jsx)(l.a,{children:Object(C.jsx)(ua,{})})]})},ba=function(e){return Object(C.jsx)(S,{title:"Dashboard"})},pa=r(659),ja=r(661),fa=r(660),ha=(r(399),Object(d.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}))),ma=function(e){var t,r=ha(),n=e.uploadOrFile,c=Object(Dr.b)(),o=Pr(n),i=null===n||void 0===n||null===(t=n.video)||void 0===t?void 0:t.id,s=Object(a.useState)(!1),l=Object(h.a)(s,2),u=l[0],d=l[1],b=Cr(n),p=Object(_t.useDebounce)(u,2500),j=Object(h.a)(p,1)[0];return Object(a.useEffect)((function(){d(yr(n))}),[n]),j?Object(C.jsx)(vr.a,{in:!0,timeout:{enter:1e3},children:Object(C.jsxs)(C.Fragment,{children:[1===n.progress&&!o&&Object(C.jsx)(Rr.a,{className:r.successIcon}),o&&Object(C.jsx)(Ar.a,{className:r.errorIcon}),b&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Or.a,{className:r.divider,orientation:"vertical"}),Object(C.jsx)(m.a,{onClick:function(){return c(Mr.removeUpload({id:i}))},children:Object(C.jsx)(Xt.a,{color:"primary"})}),Object(C.jsx)(m.a,{component:y.b,to:"/videos/".concat(i,"/edit"),children:Object(C.jsx)(ve.a,{color:"primary"})})]})]})}):null},Oa=Object(d.a)((function(e){return{gridTitle:{display:"flex",color:"#999999"},icon:{color:e.palette.error.main,minWidth:"40px"}}})),ga=function(e){var t=Oa(),r=e.uploadOrFile;return Object(C.jsx)(fr.a,{children:Object(C.jsxs)(Ze.a,{container:!0,alignItems:"center",children:[Object(C.jsxs)(Ze.a,{className:t.gridTitle,item:!0,xs:12,md:9,children:[Object(C.jsx)(xr.a,{className:t.icon}),Object(C.jsx)(j.a,{color:"inherit",children:e.children})]}),Object(C.jsx)(Ze.a,{item:!0,xs:12,md:3,children:Object(C.jsxs)(Ze.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end",children:[Object(C.jsx)(wr,{size:48,uploadOrFile:r}),Object(C.jsx)(ma,{uploadOrFile:r})]})})]})})},xa=Object(d.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expandedIcon:{color:e.palette.primary.contrastText}}})),va=[{name:"dashboard",label:"Dashboard",path:"/",component:ba,exact:!0},{name:"categories.list",label:"Listagem Categorias",path:"/categories",component:ze,exact:!0},{name:"categories.create",label:"Criar Categorias",path:"/categories/create",component:tt,exact:!0},{name:"categories.edit",label:"Editar Categorias",path:"/categories/:id/edit",component:tt,exact:!0},{name:"genres.list",label:"Listagem Generos",path:"/genres",component:it,exact:!0},{name:"genres.create",label:"Criar Generos",path:"/genres/create",component:ut,exact:!0},{name:"genres.edit",label:"Editar Generos",path:"/genres/:id/edit",component:ut,exact:!0},{name:"cast_members.list",label:"Listagem Membros de elenco",path:"/cast-members",component:mt,exact:!0},{name:"cast_members.create",label:"Criar Membros de elenco",path:"/cast-members/create",component:kt,exact:!0},{name:"cast_members.edit",label:"Editar Membros de elenco",path:"/cast-members/:id/edit",component:kt,exact:!0},{name:"videos.list",label:"Listagem Videos",path:"/videos",component:da,exact:!0},{name:"videos.create",label:"Criar Videos",path:"/videos/create",component:ea,exact:!0},{name:"videos.edit",label:"Editar Videos",path:"/videos/:id/edit",component:ea,exact:!0},{name:"uploads",label:"Uploads",path:"/uploads",component:function(){var e=xa(),t=Object(Dr.c)((function(e){return e.upload.uploads}));return Object(C.jsx)(S,{title:"Uploads",children:t.map((function(t,r){return Object(C.jsx)(wt.a,{elevation:5,children:Object(C.jsxs)(Ft.a,{children:[Object(C.jsx)(ga,{uploadOrFile:t,children:t.video.title}),Object(C.jsxs)(pa.a,{style:{margin:"0px"},children:[Object(C.jsx)(ja.a,{className:e.panelSummary,expandIcon:Object(C.jsx)(br.a,{className:e.expandedIcon}),children:Object(C.jsx)(j.a,{children:"Ver detalhes"})}),Object(C.jsx)(fa.a,{style:{padding:"0px"},children:Object(C.jsx)(Ze.a,{item:!0,xs:12,children:Object(C.jsx)(sr.a,{style:{padding:"0px"},children:t.files.map((function(e,t){return Object(C.jsxs)(a.Fragment,{children:[Object(C.jsx)(Or.a,{}),Object(C.jsx)(ga,{uploadOrFile:e,children:"".concat(Rt[e.fileField]," - ").concat(e.filename)})]},t)}))})})})]})]})},r)}))})},exact:!0}],ya={dashboard:"Dashboard","categories.list":"Categories","cast_members.list":"Membros de elenco","genres.list":"Generos","videos.list":"Videos",uploads:"Uploads"},Pa=va.filter((function(e){return Object.keys(ya).includes(e.name)})),Ca=function(){var e=a.useState(null),t=Object(h.a)(e,2),r=t[0],n=t[1],c=Boolean(r),o=function(){return n(null)};return Object(C.jsxs)(a.Fragment,{children:[Object(C.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"open drawer","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){return n(e.currentTarget)},children:Object(C.jsx)(x.a,{})}),Object(C.jsx)(O.a,{id:"menu-appbar",open:c,anchorEl:r,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,children:Object.keys(ya).map((function(e,t){var r=Pa.find((function(t){return t.name===e}));return Object(C.jsx)(g.a,{component:y.b,to:r.path,onClick:o,children:ya[e]},t)}))})]})},ka=Object(d.a)((function(e){return{toolbar:{backgroundColor:"#000000"},title:{flexGrow:1,textAlign:"center"},logo:Object(u.a)({width:100},e.breakpoints.up("sm"),{width:170})}})),Sa=function(){var e=ka();return Object(C.jsx)(b.a,{children:Object(C.jsxs)(p.a,{className:e.toolbar,children:[Object(C.jsx)(Ca,{}),Object(C.jsx)(j.a,{className:e.title,children:Object(C.jsx)("img",{src:"data:image/png;base64,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",alt:"CodeFlix",className:e.logo})}),Object(C.jsx)(f.a,{color:"inherit",children:"Login"})]})})},wa=function(){return Object(C.jsx)(Ne.c,{children:va.map((function(e,t){return Object(C.jsx)(Ne.a,{path:e.path,component:e.component,exact:!0===e.exact},t)}))})},Fa=r(667),Ta=r(675),Ra=r(400),Ia=r.n(Ra),Aa={};va.forEach((function(e){return Aa[e.path]=e.label}));var Da=Object(d.a)((function(e){return Object(Wt.a)({linkRouter:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),Na=function(e){return Object(C.jsx)(Fa.a,Object(J.a)(Object(J.a)({},e),{},{component:y.b}))};function Ea(){var e=Da();return Object(C.jsx)(P.a,{maxWidth:"xl",children:Object(C.jsx)(l.a,{paddingTop:2,paddingBottom:1,children:Object(C.jsx)(Ne.a,{children:function(t){return function(t){var r=t.pathname.split("/").filter((function(e){return e}));return r.unshift("/"),Object(C.jsx)(Ta.a,{"aria-label":"breadcrumb",children:r.map((function(t,a){var n=a===r.length-1,c="".concat(r.slice(0,a+1).join("/").replace("//","/")),o=Object.keys(Aa).find((function(e){return new Ia.a(e).match(c)}));return void 0!==o&&(n?Object(C.jsx)(j.a,{color:"textPrimary",children:Aa[o]},c):Object(C.jsx)(Na,{color:"inherit",to:c,className:e.linkRouter,children:Aa[o]},c))}))})}(t.location)}})})})}var La=Object(d.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main},variantError:{backgroundColor:e.palette.error.main},variantInfo:{backgroundColor:e.palette.primary.main}}})),Ba=function(e){var t,r=La(),a={children:e.children,classes:r,autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return Object(C.jsx)(m.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)},children:Object(C.jsx)(ur.a,{})})}},n=Object(J.a)(Object(J.a)({},a),e);return Object(C.jsx)(ge.a,Object(J.a)(Object(J.a)({},n),{},{children:e.children}))},Ma=r(666);function qa(e){return Object(J.a)(Object(J.a)({},e),{},{palette:Object(J.a)(Object(J.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var Va=function(){var e=Object(a.useContext)(Me);return Object(C.jsx)(i.a,{theme:qa,children:Object(C.jsx)(vr.a,{in:e,children:Object(C.jsx)(Ma.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:9999}})})})},Ua=function(e){var t=e.children,r=Object(a.useState)(!1),n=Object(h.a)(r,2),c=n[0],o=n[1],i=Object(a.useState)(0),s=Object(h.a)(i,2),l=s[0],u=s[1];function d(){u((function(e){return e-1}))}return Object(a.useMemo)((function(){var e=!0,t=function(e,t){var r,a=[],n=Object(D.a)(B);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.request.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&!t.headers.hasOwnProperty("x-ignore-loading")&&(o(!0),u((function(e){return e+1}))),t})),r=function(e,t){var r,a=[],n=Object(D.a)(B);try{for(n.s();!(r=n.n()).done;){var c=r.value.interceptors.response.use(e,t);a.push(c)}}catch(o){n.e(o)}finally{n.f()}return a}((function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&d(),t}),(function(t){return e&&!t.config.headers.hasOwnProperty("x-ignore-loading")&&d(),Promise.reject(t)}));return function(){e=!1,t.forEach((function(e,t){return B[t].interceptors.request.eject(e)})),function(e){e.forEach((function(e,t){return B[t].interceptors.response.eject(e)}))}(r)}}),[!0]),Object(a.useEffect)((function(){l||o(!1)}),[l]),Object(C.jsx)(Me.Provider,{value:c,children:t})};var za=function(){return Object(C.jsx)(n.a.Fragment,{children:Object(C.jsx)(Ua,{children:Object(C.jsx)(i.a,{theme:Q,children:Object(C.jsxs)(Ba,{children:[Object(C.jsx)(s.a,{}),Object(C.jsxs)(y.a,{basename:"/admin",children:[Object(C.jsx)(Va,{}),Object(C.jsx)(Sa,{}),Object(C.jsxs)(l.a,{paddingTop:"70px",children:[Object(C.jsx)(Ea,{}),Object(C.jsx)(wa,{})]})]})]})})})})},_a=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,678)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))},Ga=r(130),Wa=r(401),Ha=r(79),Ya=r(98),Qa=T.a.mark(Za),Xa=T.a.mark(Ka);function Za(){var e,t,r,a,n,c,o;return T.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Ha.a)(Br.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(Ha.e)(e);case 6:t=i.sent,r=t.payload,a=Object(D.a)(r.files),i.prev=9,a.s();case 11:if((n=a.n()).done){i.next=25;break}return c=n.value,i.prev=13,i.next=16,Object(Ha.c)(Ka,{video:r.video,fileInfo:c});case 16:o=i.sent,console.log(o),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(13),console.log(i.t0);case 23:i.next=11;break;case 25:i.next=30;break;case 27:i.prev=27,i.t1=i.catch(9),a.e(i.t1);case 30:return i.prev=30,a.f(),i.finish(30);case 33:console.log("payload",r),i.next=3;break;case 36:case"end":return i.stop()}}),Qa,null,[[9,27,30,33],[13,20]])}function Ka(e){var t,r,a,n,c,o;return T.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,r=e.fileInfo,i.next=3,Object(Ha.c)(Ja,{id:t.id,fileInfo:r});case 3:a=i.sent;case 4:return i.prev=5,i.next=8,Object(Ha.e)(a);case 8:if(n=i.sent,c=n.progress,!(o=n.response)){i.next=13;break}return i.abrupt("return",o);case 13:return i.next=15,Object(Ha.d)(Mr.updateProgress({video:t,fileField:r.fileField,progress:c}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(Ha.d)(Mr.setUploadError({video:t,fileField:r.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),Xa,null,[[5,17]])}function Ja(e){var t=e.id,r=e.fileInfo;return Object(Ya.c)((function(e){Tt.partialUpdate(t,Object(u.a)({_method:"PATCH"},r.fileField,r.file),{http:{usePost:!0},config:{headers:{"x-ignore-loading":!0},onUploadProgress:function(t){if(t.lengthComputable){var r=t.loaded/t.total;e({progress:r})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(Ya.a)}));return function(){}}))}var $a=T.a.mark(en);function en(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ha.b)([Za()]);case 2:case"end":return e.stop()}}),$a)}var tn=Object(Wa.a)(),rn=Object(Ga.d)(Object(Ga.b)({upload:Vr}),Object(Ga.a)(tn));tn.run(en);var an=rn;o.a.render(Object(C.jsx)(Dr.a,{store:an,children:Object(C.jsx)(za,{})}),document.getElementById("root")),_a()}},[[618,1,2]]]);
//# sourceMappingURL=main.acc611b6.chunk.js.map